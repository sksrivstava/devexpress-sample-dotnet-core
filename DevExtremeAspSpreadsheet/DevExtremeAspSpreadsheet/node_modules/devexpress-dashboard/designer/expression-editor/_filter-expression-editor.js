/**
* DevExpress Dashboard (_filter-expression-editor.js)
* Version:  20.1.6
* Build date: Jul 17, 2020
* Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var dx_analytics_core_1 = require("@devexpress/analytics-core/dx-analytics-core");
var ko = require("knockout");
var FilterExpressionEditorViewModel = (function () {
    function FilterExpressionEditorViewModel(params) {
        var _this = this;
        this.criteriaString = ko.observable();
        this.editor = new dx_analytics_core_1.default.Analytics.Widgets.FilterEditor(params.options, params.fieldListProvider, false, params.displayNameProvider);
        ko.computed(function () {
            var displayExpressionConverter = new dx_analytics_core_1.default.Analytics.Internal.DisplayExpressionConverter(params.displayNameProvider);
            displayExpressionConverter.toDisplayExpression(params.options().path(), params.options().value()).done(function (result) {
                _this.criteriaString(result);
            }).fail(function () {
                _this.criteriaString(params.options().value());
            });
        });
    }
    FilterExpressionEditorViewModel.prototype.show = function () {
        this.editor.popupVisible(true);
    };
    return FilterExpressionEditorViewModel;
}());
exports.FilterExpressionEditorViewModel = FilterExpressionEditorViewModel;
